<!DOCTYPE html><html lang="en"><head><title>The Martians are Back!</title><meta charset="utf-8"><meta name="viewport" content="width=device-width"><meta name="monetization" content="$coil.xrptipbot.com/IaQo0r8KT6aT9SCXmCK-ag"><style>@keyframes fadein{0%{opacity:0}100%{opacity:1}}html{padding:0;margin:0;height:100%}body{background:#000;color:#fff;font:20px sans-serif;padding:0;margin:0}canvas{display:block;margin:auto}button{display:block;width:100%;max-width:20em;margin:auto;border-radius:20px;font-size:20px;cursor:pointer;background:#fff;color:#000}button:disabled{cursor:default;background:#aaa;color:#555}p{margin:2em}h1{text-align:center}.border{border:solid thin}#menu{max-width:25em;margin:auto}#intro{max-width:50em;margin:auto}#intro>*{animation:1s fadein both}#intro>:nth-child(2){animation-delay:2s}#intro>:nth-child(3){animation-delay:4s}#intro>:nth-child(4){animation-delay:6s}#intro>:nth-child(5){animation-delay:8s}#intro>:nth-child(n+6){animation-delay:10s}</style></head><body><script>(function(){function E(b,a){G[b]=a;try{localStorage.setItem(U+b,a)}catch(c){}}function ha(b){delete G[b];try{localStorage.removeItem(U+b)}catch(a){}}function D(b){if(b in G)return G[b];try{return G[b]=localStorage.getItem(U+b),G[b]}catch(a){}}function ia(b,a,c,d,e){var g=c*c+d*d,l=a*c-b*d,e=e*e*g-l*l;if(e<0)return Infinity;e=Math.sqrt(e);l=-(b*c+a*d);return l-e<=0?Infinity:(l-e)/g}function V(b,a,c,d){var e=b*b-a*a,g=b*b+a*a,b=2*b*a;return{vx:(-c*e-d*b)/g,vy:(d*e-c*b)/g}}function ja(){return document.fullscreenElement||
document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.webkitIsFullScreen}function W(b){return"<p>"+b.replace(/\n/g,"</p><p>")+"</p>"}function ka(b){if(!H)try{H=new AudioContext}catch(a){}ta(function(){ua(function(){var a=["Game over."],b,e=JSON.parse(D("records")||"{}");if(o>(e[y]||0))e[y]=o,E("records",JSON.stringify(e)),a.push("New record!");if(document.monetization&&document.monetization.state==="started"||location.search==="?monetization-cheater")v+=
5,E("stars",v),b=["As a Web Monetization","supporter, you get","5 extra stars!"];var g;f.fillStyle="rgba(0,0,0,0.7)";f.fillRect(0,h,j,q-h);f.fillStyle="white";g=q/2+h/2-(a.length-1)/2*1.5*i;b&&(g-=i);for(e=0;e<a.length;e++)z(a[e],j/2,g+1.5*i*e,j,1.5*i);if(b){g=q/2+h/2+0.75*i*a.length+i;for(e=0;e<b.length;e++)z(b[e],j/2,g+i*e,j,i)}r("end")},b)})}function X(b,a,c,d,e){function g(){E("intro",d+1);l.removeEventListener("click",g);c()}var l;!e&&(D("intro")||0)>d?c():(document.body.innerHTML='<div id="intro">'+
b+'<p><button id="button">'+a+"</button></p></div>",l=document.getElementById("button"),l.addEventListener("click",g),window.scrollTo(0,0))}function la(b,a){X("<h1>The Martians are Back!</h1>"+W("Ever since you read <i>The War of the Worlds</i>, a documentary on the first invasion from Mars, you feared\u2014like its author\u2014that one day the Martians might come back.\nEven though your friends laughed a great deal about it, you decided to built a bullet from the remains of their artillery. It\u2019s just one bullet, which will hardly be enough, but you hope that when the Martians do come back, you can collect material for more bullets before they are able to land.\nAnd then it happens: One night you are awakened by a bright light, and you see Martian spaceships decending. Now it is your chance to prove to your friends that you were right. But it\u2019s more than that: The fate of all human beeings might depend on whether you succeed to destroy the Martian spaceships before they can land.\nGood luck!"),
"Start",b,0,a)}function va(b,a){var c=["You don\u2019t know how the first attack was defeated, after the first Matian spaceship reached the ground. And you don\u2019t have the time to think about it, for the second attack is already coming.\nAnd this time the attack is even more dangerous: The clouds won\u2019t do any harm to your bullets, just reflect them randomly. But beware of the deadly Heat-Rays. They won\u2019t do any real harm when they reach the earth, but they will destroy your bullets when you hit them.\nThere are also some magical items that will send all your bullets <b>back</b> the way they came.",
"It seems this night you won\u2019t get any more sleep.\nNow the Martians are trying a new formation to attack.","As if Martian spaceships weren\u2019t enough, there are even more special items coming down along with them. There are obstacles, which will block your bullets, but there are also bombs, which will destroy anything\u2014fortunately except your bullets\u2014around them when your bullets trigger an explosion.\nAnd there are also some other magical items that allow your bullets to pass through the outer borders.",
"In the twilight of the night you see the next attack wave coming.\n\u201cWhat\u2019s this?\u201d, you wonder. \u201cThe Martians no longer attack in an ordered formation, but with spaceships of different sizes, coming down from everywhere!\u201d"];a?X(W(c[a-1]),"Start game",function(){ka(b)},a):ka(b)}function wa(){function b(a,b,c){return"<p><button "+(b?'data-type="'+a.type+'"':"disabled")+(a.intro?' data-intro="'+a.intro+'"':"")+">"+a.label+(c?"<br>Your record: "+c:"")+"</button></p>"}function a(a,
b,c){var d=["<p>"];if(b||c)d.push("You collected "+b+" star"+(Number(b)===1?"":"s")+" so far.");a&&(d.push(" "),!c&&b<a.stars?d.push("Finish the previous level and collect "+a.stars+" stars"):c?d.push("Collect "+a.stars+" stars"):d.push("Finish the previous level"),d.push(" to "),a.type==="outro"?d.push("read how the story ends."):d.push("unlock the next level."));d.push("</p>");return d.join("")}var c=[{type:"hex-0",label:"First Attack"},{type:"hex-1",label:"Second Attack",stars:10,intro:1},{type:"square-0",
label:"Third Attack",stars:20,intro:2},{type:"square-2",label:"Fourth Attack",stars:30,intro:3},{type:"chaos-2",label:"Fifth Attack",stars:40,intro:4},{type:"outro",label:"The End",stars:50,intro:5}],d=[],e,g,l=!0,A,f=JSON.parse(D("records")||"{}");D("state")&&(Y&&d.push("<p>Welcome back! Do you want to resume your last game?</p>"),d.push(b({type:"restore",label:Y?"Resume Last Game":"Continue Current Game"},!0)));d.push('<p><button data-type="fullscreen">Toggle Fullscreen</button></p>');d.push('<div class="border">');
d.push('<p><button data-type="intro">Show Intro Again</button></p>');for(e=0;e<c.length;e++){g=c[e];if(l&&(g.stars||0)>v)l=!1,d.push(a(g,v,!0));A=f[g.type];d.push(b(g,l,A));l&&!A&&g.type!=="outro"&&(l=!1,d.push(a(c[e+1],v,!1)))}l&&d.push(a(!1,v));d.push("</div>");return'<div id="menu">'+d.join("")+"</div>"}function Q(){function b(c){var d=c.target.dataset.type,c=c.target.dataset.intro;d==="fullscreen"?ja()?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():
document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():(d=document.documentElement,d.requestFullscreen?d.requestFullscreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.msRequestFullscreen&&d.msRequestFullscreen()):d&&(a.removeEventListener("click",b),d==="intro"?la(Q,!0):d==="outro"?(d=Q,X(W("Again a Martian spaceship landed on earth, because you didn\u2019t succeed to shoot it in time. You gasp as the spaceship slowly opens, \u201cThat\u2019s the end!\u201d, you think. You scream loudly\u2014and suddenly awake.\n\u201cDid I sleep?\u201d, you think. And then you realize that the attack from Mars wasn\u2019t real, it was just a dream.\nYou look up into the sky, a peaceful sky without spaceships attacking you.\nBut what\u2019s that, up there, to far away to see properly? It could be something you just imagine, but you decide that it\u2019s better to be on the safe side. So you keep practicing to defend earth from Martian spaceships. You never know when they come back."),
"Continue playing",d,c,!0)):va(d,c))}var a;document.body.innerHTML=wa();a=document.getElementById("menu");a.addEventListener("click",b);Y=!1;window.scrollTo(0,0)}function m(b,a,c,d,e,g){function l(){clearInterval(i);f.stop();f.disconnect();j.disconnect()}var A=0,f,j,i;f=H.createOscillator();j=H.createGain();f.connect(j);j.connect(H.destination);f.frequency.value=b;f.type=["square","sawtooth","triangle","sine"][g||0];j.gain.value=0;f.start();i=setInterval(function(){f.frequency.value=b+a*A;j.gain.value=
(1-A/d)*e;A++;A>d&&setTimeout(l,c)},c)}function r(b){if(!I&&H)switch(b){case "start":m(200,-30,5,10,0.5,2);break;case "wall":case "obstacle":m(100,-30,15,10,0.5,2);break;case "item":m(100,-10,15,15,1,2);break;case "item-0":m(100,-10,10,25,0.5);m(125,-5,20,45,0.1,1);m(40,2,20,20,1,2);m(200,-4,10,100,0.25,2);break;case "ball":m(150,30,15,20,0.5,2);break;case "star":m(510,0,15,20,0.05);setTimeout(function(){m(2600,1,10,50,0.1)},80);break;case "back":m(800,-40,30,15,0.5,2);break;case "die":case "explode":m(100,
-10,10,25,0.75);m(125,-5,20,45,0.2,1);m(40,2,20,20,1,2);m(200,-4,10,100,0.5,2);break;case "random":m(500,-200,10,10,0.25,1);break;case "toggle":m(750,-30,5,20,0.25);setTimeout(function(){m(150,30,5,20,0.25)},100);break;case "end":m(800,-40,25,20,0.5,2);break;case "speed":m(150,30,2,20,0.5,2),setTimeout(function(){m(150,30,2,20,0.5,2)},150)}}function xa(b,a,c,d){var e=new Image(a,c),g=document.createElement("canvas");g.width=a;g.height=c;e.onload=function(){g.getContext("2d").drawImage(e,0,0,a,c);
d(g)};e.src=b}function ta(b){function a(a){var b;b=(a.clientX-a.target.offsetLeft)/a.target.clientWidth*j;if((a.clientY-a.target.offsetTop)/a.target.clientHeight*q<h)if(b<h)return F?{title:"Speed up [Space]",action:"speed"}:{title:"Back to menu [Esc]",action:"menu"};else if(b>j-h)return I?{title:"Unmute [M]",action:"togglemute"}:{title:"Mute [M]",action:"togglemute"}}function c(a){switch(a){case "speed":ya(1.7);break;case "menu":L&&L();window.removeEventListener("resize",Z);l.removeEventListener("mousemove",
d);l.removeEventListener("click",e);window.removeEventListener("keydown",g);Q();break;case "togglemute":(I=!I)?E("muted",1):ha("muted"),F||na()}}function d(b){(b=a(b))?(l.title=b.title,l.style.cursor="pointer"):(l.title="",l.style.cursor="")}function e(b){b=a(b)||{};c(b.action)}function g(a){switch(a.key||a.keyCode){case 27:case "Esc":case "Escape":F||c("menu");a.preventDefault();break;case 32:case "Spacebar":case " ":F&&c("speed");a.preventDefault();break;case 77:case "m":c("togglemute"),a.preventDefault()}}
var l;document.body.innerHTML="<canvas moz-opaque></canvas>";l=document.getElementsByTagName("canvas")[0];l.width=j;l.height=q;f=l.getContext("2d",{alpha:!1});f.textAlign="center";f.textBaseline="middle";f.strokeStyle=$;f.lineWidth=2;f.mozDash=[5];f.webkitLineDash=[5];f.setLineDash&&f.setLineDash([5]);J=f.createLinearGradient(0,h,0,q);J.addColorStop(0,R[0]);J.addColorStop(1-i/(q-h),R[1]);J.addColorStop(1-(i-1)/(q-h),R[2]);J.addColorStop(1,R[2]);Z();window.addEventListener("resize",Z);l.addEventListener("mousemove",
d);l.addEventListener("click",e);window.addEventListener("keydown",g);aa?b():xa(ba?"data:image/svg+xml;base64,"+btoa(ba):"icons.svg",i,12*i,function(a){aa=a;b()})}function Z(){var b=document.documentElement,a,b=Math.min(ja()?2:1,b.clientWidth/j,b.clientHeight/q);a=f.canvas.style;a.width=j*b+"px";a.height=q*b+"px"}function z(b,a,c,d,e){f.font="bold "+e/2+"px sans-serif";f.fillText(b,a,c,d)}function M(b,a,c,d){f.drawImage(aa,0,b*i,i,i,a-d/2,c-d/2,d,d)}function na(){f.fillStyle="black";f.fillRect(0,
0,j,h);f.fillStyle="white";z((K||n)+"\u25cf",j*2/7,h*3/5,j*3/14,h*3/5);z(o,j/2,h/2,j*3/14,h);z(v+"\u2605",j*5/7,h*3/5,j*3/14,h*3/5);F?M(9,h/2,h/2,h):M(8,h/2,h/2,h);I?M(11,j-h/2,h/2,h):M(10,j-h/2,h/2,h)}function N(){f.fillStyle=J;f.fillRect(0,h,j,q-h);p.forEach(function(b){var a,c;b.n>0?(c=((oa-b.n/50*360)%360+360)%360,a="hsl("+c+",100%,50%)",c=Math.abs(c-110)<=90?"black":"white",f.fillStyle=a,f.beginPath(),f.arc(k+b.x,h+k+u-b.y,b.r,0,2*Math.PI),f.fill(),f.fillStyle=c,z(b.n,k+b.x,h+k+u-b.y,2*b.r,2*
b.r)):b.n<0&&M(-b.n-1,k+b.x,h+k+u-b.y,i*b.r/O)});s.forEach(function(b){var a=(b.dur-b.t)/b.dur,c;switch(b.type){case "remove-item":f.fillStyle="hsla("+oa+","+(100*a).toFixed()+"%,50%,"+a.toFixed(2)+")";f.beginPath();f.arc(k+b.x,h+k+u-b.y,b.r*a,0,2*Math.PI);f.fill();break;case "die":c=a<2/3?3*a/2:3*(1-a);f.fillStyle="hsla(60,100%,"+(50+50*c).toFixed()+"%,"+c.toFixed(2)+")";f.beginPath();f.arc(k+b.x,h+k+u-b.y,b.r-b.r*a,0,2*Math.PI);f.fill();break;case "explode":f.fillStyle="rgba(255,255,255,"+a.toFixed(2)+
")";f.beginPath();f.arc(k+b.x,h+k+u-b.y,b.r-b.r*a,0,2*Math.PI);f.fill();break;case "hit":f.fillStyle="rgba(255,255,255,"+(a/2).toFixed(2)+")",f.beginPath(),f.arc(k+b.x,h+k+u-b.y,b.r*a,0,2*Math.PI),f.fill()}});f.fillStyle=$;t.forEach(function(b){f.beginPath();f.arc(k+b.x,h+k+u-b.y,k,0,2*Math.PI);f.fill();b.noWall&&(f.beginPath(),f.arc(k+b.x+j,h+k+u-b.y,k,0,2*Math.PI),f.fill())});na()}function ca(b,a){f.fillStyle="black";z(b,k+a,h+k+u,2*k,2*k)}function za(b,a,c){function d(a,d){var c;if(!(b===0&&a>
0)&&!(b===B&&a<0)&&(c=Math.sqrt(a*a+d*d),d>0&&c>=3))return c=pa/c,{vx:-a*c,vy:d*c}}function e(a){if(w!=="t")s=a.screenX,t=a.screenY,w="m",a.preventDefault()}function g(a){w==="m"&&(a.preventDefault(),o(a.screenX,a.screenY))}function l(a){w==="m"&&(a.preventDefault(),r(a.screenX,a.screenY))}function A(a){a.touches.length!==1?w="":(s=a.touches[0].screenX,t=a.touches[0].screenY,w="t")}function ma(a){a.touches.length!==1?w="":o(a.touches[0].screenX,a.touches[0].screenY)}function p(a){w!=="t"||a.changedTouches.length!==
1||r(a.changedTouches[0].screenX,a.changedTouches[0].screenY)}function m(){w=""}function o(a,c){var e,g,l;e=d(a-s,c-t);N();ca(n,b);if(e)g=(k+5)/Math.sqrt(e.vx*e.vx+e.vy*e.vy),l=S(b,0,e.vx,e.vy).t,f.beginPath(),f.moveTo(k+b+e.vx*g,h+k+u-e.vy*g),f.lineTo(k+b+e.vx*l,h+k+u-e.vy*l),f.stroke()}function r(c,e){var g;w="";g=d(c-s,e-t);N();g?(L(),a(g.vx,g.vy)):ca(n,b)}function v(a){var b=1;switch(a.key||a.keyCode){case 13:case "Enter":w==="k"&&(a.preventDefault(),r(x,y));break;case 37:case "Left":case "ArrowLeft":b=
-1;case 39:case "Right":case "ArrowRight":w!=="k"&&(s=j/2,t=0,x=s,y=t+10,w="k"),x-=b*(2+Math.floor(2*Math.random())),y+=Math.floor(2*Math.random()),a.preventDefault(),o(x,y)}}var w,s,t,x,y,C;if(c)a(c.vx,c.vy);else if(C=document.documentElement.style,C.cursor="crosshair",C.overscrollBehavior="none",C.position="fixed",C.width="100%",window.addEventListener("mousedown",e),window.addEventListener("mousemove",g),window.addEventListener("mouseup",l),window.addEventListener("touchstart",A),window.addEventListener("touchmove",
ma),window.addEventListener("touchend",p),window.addEventListener("touchcancel",m),window.addEventListener("keydown",v),L=function(){C.cursor="";C.overscrollBehavior="";C.position="";C.width="";window.removeEventListener("mousedown",e);window.removeEventListener("mousemove",g);window.removeEventListener("mouseup",l);window.removeEventListener("touchstart",A);window.removeEventListener("touchmove",ma);window.removeEventListener("touchend",p);window.removeEventListener("touchcancel",m);window.removeEventListener("keydown",
v);L=!1},ca(n,b),!D("hint"))f.fillStyle=$,f.beginPath(),f.moveTo(j/3-i,2*q/3),f.lineTo(j/2-i,3*q/4),f.lineTo(j/2-i,3*q/4-15),f.moveTo(j/2-i,3*q/4),f.lineTo(j/2-15-i,3*q/4),f.stroke(),f.textAlign="start",z("Drag to shoot",j/2,3*q/4,j/2,i/2),z("(or use your keyboard:",j/2,3*q/4+i/2,j/2,i/2),z("left and right cursor",j/2,3*q/4+i,j/2,i/2),z("to aim, Enter to shoot)",j/2,3*q/4+1.5*i,j/2,i/2),f.textAlign="center",E("hint",1)}function qa(){function b(a){var b=[],c;c=Math.min(0.4,Math.sqrt(o/100));o===1&&
(c*=2);b.push(Math.ceil((Math.floor(Math.random()*3)/2+1)*n));o===1&&b.push(2);Math.random()<c&&b.push(n);Math.random()<c&&b.push(Math.ceil((Math.floor(Math.random()*2)/2+1)*n));Math.random()<c&&b.push(Math.ceil(1.5*n));Math.random()<c&&b.push(Math.ceil((Math.floor(Math.random()*2)/2+1.5)*n));Math.random()<c&&b.push(2*n);g!=="hex"&&Math.random()<c&&b.push(2*n);g==="choas"&&Math.random()<2*c&&b.push(2*n);c=0.9*Math.pow(2/3,n/18);o===1&&b.push(-1);Math.random()<c&&b.push(-1);g[1]>0&&Math.random()<(1-
c)/3&&b.push(-4);b.length<a&&(c=v<5?0.25:0.15,o===1&&b.push(-2),Math.random()<c?b.push(-2):g[1]>0&&(Math.random()<0.3&&b.push([-3,-5,-6,-7,-8][Math.floor(Math.random()*(3*g[1]-1))]),Math.random()<0.3&&b.push([-3,-5,-6,-7,-8][Math.floor(Math.random()*(3*g[1]-1))])));for(;b.length<a;)b.push(0);for(c=[];b.length;)a=Math.floor(Math.random()*b.length),c.push(b.splice(a,1)[0]);return c}function a(a,b){var c,d;g[0]==="hex"?(d=2*i/Math.sqrt(3),c=(o+a)%2?d:d/2):(d=i,c=i/2);for(;c<=j-O;c+=d)p.push({x:c-k,y:u-
i/2-a*i+k,r:O,n:b.pop()})}function c(a,b,c){var d,e,g,f,h,m,n,o;for(d=0;d<a;d++)if(g=c.pop(),g!==0)for(n=0;n<50;n++){f=O*[0.75,0.75,1,1,1,1.2][Math.floor(Math.random()*6)];h=f+(j-2*f)*Math.random()-k;m=u-f-Math.random()*2*i+k-b;o=!0;for(e=0;e<p.length;e++)if((h-p[e].x)*(h-p[e].x)+(m-p[e].y)*(m-p[e].y)<(f+p[e].r)*(f+p[e].r)){o=!1;break}if(o){p.push({x:h,y:m,r:f,n:g});break}}}var d,e,g=y.split("-");if(o===1)if(d=2*P,g[0]==="hex"&&(d-=3),e=b(d),g[0]==="chaos")c(d,0,e);else for(d=1;d<3;d++)a(d,e);else{if(p.length===
0){e=[];for(d=0;d<P;d++)e.push(-2);g[0]==="chaos"?c(P,2*i,e):a(2,e)}d=P;g[0]==="hex"?d-=o%2?1:2:g[0]==="chaos"&&(d=Math.ceil(1.5*d));e=b(d);g[0]==="chaos"?c(d,0,e):a(1,e)}}function da(b){b?E("state",JSON.stringify(b)):ha("state")}function Aa(){var b=JSON.parse(D("state"));y=b.gameType;n=b.ballCount;o=b.roundNumber;p=b.allItems;return{startX:b.startX,v:b.v}}function Ba(b,a){var c;x=void 0;T=!1;s=[];t=[];K=b;for(c=0;c<b;c++)t.push({x:a,y:0,vx:0,vy:0,t:(c+0.1)*Ca,action:"start"})}function Da(){var b=
n===0||x===void 0;p.forEach(function(a){a.y-=i;if(a.y<i-k+a.r)a.n<=0?a.n=0:b=!0});p=p.filter(function(a){return a.n!==0});b||(o++,qa());return!b}function ra(b,a,c,d){Ba(b,a);N();da(o===1?null:{gameType:y,ballCount:n,roundNumber:o,allItems:p,startX:a});za(a,function(b,d){da({gameType:y,ballCount:n,roundNumber:o,allItems:p,startX:a,v:{vx:b,vy:d}});Ea(b,d,function(a){E("stars",v);c(Da(),a)})},d)}function ua(b,a){function c(a,e){d=e;a?ra(n,d,c):(s=[],t=[],N(),da(null),b())}var d,e;a==="restore"?(e=Aa(),
d=e.startX):(y=a,o=n=1,p=[],qa(),d=B/2);ra(n,d,c,e&&e.v)}function ya(b){r("speed");ea*=b;fa*=b;t.forEach(function(a){a.vx*=b;a.vy*=b;a.t/=b})}function S(b,a,c,d,e){var g="",f=Infinity,h;e&&c<0&&(b+=j);d>0?(g="top",f=(u-a)/d):d<0&&(g="bottom",f=-a/d);c!==0&&(h=c>0?(B-b)/c:-b/c,h<f?(g="side",f=h):h===f&&g==="top"&&(g="corner"));p.forEach(function(i,m){i.n!==0&&(h=ia(b-i.x,a-i.y,c,d,i.r+k),h<f&&(f=h,g=m),e&&(h=ia(b-i.x+(c<0?-j:j),a-i.y,c,d,i.r+k),h<f&&(f=h,g=m)))});return{t:f,action:g}}function Fa(b){s.forEach(function(a){a.t+=
b});s=s.filter(function(a){return a.t<=a.dur});t.forEach(function(a){var c,d,e;a.x+=b*a.vx;a.y+=b*a.vy;a.t-=b;if(a.noWall)if(a.x<=-2*k)a.x+=j,a.noWall=!1;else if(a.x>=0)a.noWall=!1;if(!(a.t>0)){switch(a.action){case "start":a.vx=ea;a.vy=fa;r("start");break;case "end":a.x=x;a.vx=0;a.t=Infinity;K--;return;case "top":a.vy*=-1;r("wall");break;case "corner":a.vy*=-1,r("wall");case "side":Math.abs(a.vy)*2E3<i&&(a.vy+=i/6E3*(a.vy>0?1:-1));T?(a.noWall=!0,a.x>B/2&&(a.x-=j)):(a.vx*=-1,a.action!=="corner"&&
r("wall"));break;case "bottom":a.y=0;a.vy=0;if(x===void 0||a.x===x){if(a.noWall)a.x=a.x<-k?B:0;x=a.x;a.vx=0;a.action="end";a.t=Infinity;K--}else a.vx=sa,a.t=(x-a.x)/sa,a.t<0&&(a.vx*=-1,a.t*=-1),a.action="end";return;default:if(c=p[a.action],c.n>0)c.n--,d=V(a.x-c.x+(a.noWall&&c.x>B/2?j:0),a.y-c.y,a.vx,a.vy),a.vx=d.vx,a.vy=d.vy,c.n===0?(r("item-0"),s.push({x:c.x,y:c.y,r:c.r,type:"remove-item",t:0,dur:1E3})):(r("item"),e=2*c.r/(3*(c.r+k)),s.push({x:(1-e)*c.x+e*(a.x+(a.noWall&&c.x>B/2?j:0)),y:(1-e)*c.y+
e*a.y,r:c.r/3,type:"hit",t:0,dur:500}));else if(p[a.action].n<0){switch(-c.n){case 1:n++;r("ball");break;case 2:v++;r("star");break;case 3:c.n=0;t.forEach(function(a){var b;if(["end","start"].indexOf(a.action)===-1)a.vx*=-1,a.vy*=-1,b=S(a.x,a.y,a.vx,a.vy,a.noWall),a.t=b.t,a.action=b.action});r("back");return;case 4:c.n=0;n--;a.y=-2*k;a.vx=0;a.vy=0;a.action="end";a.t=Infinity;K--;r("die");s.push({x:c.x,y:c.y,r:3*c.r,type:"die",t:0,dur:300});return;case 5:d=V(10*Math.random(),10*Math.random(),a.vx,
a.vy);a.vx=d.vx;a.vy=d.vy;r("random");break;case 6:T=!T;r("toggle");break;case 7:e=c.r/O*i;p.forEach(function(a){if((a.x-c.x)*(a.x-c.x)+(a.y-c.y)*(a.y-c.y)<=2*e*e)a.n=0});r("explode");s.push({x:c.x,y:c.y,r:2*e,type:"explode",t:0,dur:500});break;case 8:d=V(a.x-c.x+(a.noWall&&c.x>B/2?j:0),a.y-c.y,a.vx,a.vy);a.vx=d.vx;a.vy=d.vy;d=S(a.x,a.y,a.vx,a.vy,a.noWall);a.t=d.t;a.action=d.action;r("obstacle");return}c.n=0}}d=S(a.x,a.y,a.vx,a.vy,a.noWall);a.t=d.t;a.action=d.action}})}function Ea(b,a,c){function d(a){var b;
if(e){b=a-e;for(var f,h;b>0;){f=b;for(h=0;h<t.length;h++)if(t[h].t<f)f=t[h].t;Fa(f);b-=f}b=K>0;e=a;N();b?ga(d):(F=!1,c(x))}else e=a,ga(d)}var e;ea=b;fa=a;F=!0;ga(d)}var ba,i=60,k=i*0.2,O=2*k,h=i,P=7,B=P*i-2*k,u=10*i-2*k,j=B+2*k,q=u+2*k+h,pa=j/800,sa=j/500,Ca=i/pa,U="schnark-back-",R=["hsl(250,10%,10%)","hsl(250,30%,20%)","hsl(30,30%,20%)"],$="yellow",oa=270,y,t,p,s,ea,fa,x,n,K,o,v,T,F,I,f,J,aa,H,L,Y=!0,G={},ga=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.oRequestAnimationFrame;ba='<svg xmlns="http://www.w3.org/2000/svg" width="60" height="720"><defs><radialGradient id="green"><stop offset="0%" stop-color="#0f0" stop-opacity="0.3"/><stop offset="100%" stop-color="#0f0" stop-opacity="0.1"/></radialGradient><radialGradient id="yellow"><stop offset="0%" stop-color="#ff0" stop-opacity="0.3"/><stop offset="100%" stop-color="#ff0" stop-opacity="0.1"/></radialGradient><radialGradient id="red"><stop offset="0%" stop-color="#f00" stop-opacity="0.3"/><stop offset="100%" stop-color="#f00" stop-opacity="0.1"/></radialGradient><radialGradient id="white"><stop offset="0%" stop-color="#fff" stop-opacity="0.3"/><stop offset="100%" stop-color="#fff" stop-opacity="0.1"/></radialGradient><radialGradient id="blue"><stop offset="0%" stop-color="#00f" stop-opacity="0.3"/><stop offset="100%" stop-color="#00f" stop-opacity="0.1"/></radialGradient></defs><g transform="scale(2)"><g><circle fill="url(#green)" stroke="#0f0" stroke-opacity="0.7" cx="15" cy="15" r="11.5"/><path fill="#0f0" d="M21 16h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H9c-.55 0-1-.45-1-1s.45-1 1-1h5V9c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"/></g><g transform="translate(0 30)"><circle fill="url(#yellow)" stroke="#ff0" stroke-opacity="0.7" cx="15" cy="15" r="11.5"/><path fill="#ff0" d="M15 20.27l5.17 3.12c.38.23.85-.11.75-.54l-1.37-5.88 4.56-3.95c.33-.29.16-.84-.29-.88l-6.01-.51-2.35-5.54a.5.5 0 0 0-.92 0l-2.35 5.54-6.01.51a.5.5 0 0 0-.28.88l4.56 3.95-1.37 5.88c-.1.43.37.77.75.54L15 20.27z"/></g><g transform="translate(0 60)"><circle fill="url(#red)" stroke="#f00" stroke-opacity="0.7" cx="15" cy="15" r="11.5"/><path fill="#f00" d="M23 14H9.83l2.88-2.88a.996.996 0 1 0-1.41-1.41L6.71 14.3a.996.996 0 0 0 0 1.41l4.59 4.59a.996.996 0 1 0 1.41-1.41L9.83 16H23c.55 0 1-.45 1-1s-.45-1-1-1z"/></g><g transform="translate(0 90)"><circle fill="url(#yellow)" stroke="#ff0" stroke-opacity="0.7" cx="15" cy="15" r="11.5"/><path fill="#ff0" d="M11 7v9c0 .55.45 1 1 1h2v7.15c0 .51.67.69.93.25l5.19-8.9a.995.995 0 0 0-.86-1.5H17l2.49-6.65A.994.994 0 0 0 18.56 6H12c-.55 0-1 .45-1 1z"/></g><g transform="translate(0 120)"><circle fill="url(#white)" stroke="#eef" stroke-opacity="0.7" cx="15" cy="15" r="11.5"/><path fill="#eef" d="M20.48 12.03A5.99 5.99 0 0 0 14.6 7.2a6 6 0 0 0-5.32 3.23A4.8 4.8 0 0 0 5 15.2C5 17.85 7.15 20 9.8 20h10.4c2.21 0 4-1.79 4-4a3.98 3.98 0 0 0-3.72-3.97z"/></g><g transform="translate(0 150)"><circle fill="url(#blue)" stroke="#00f" stroke-opacity="0.7" cx="15" cy="15" r="11.5"/><path fill="#00f" d="M23 14H9.83l2.88-2.88a.996.996 0 1 0-1.41-1.41L6.71 14.3a.996.996 0 0 0 0 1.41l4.59 4.59a.996.996 0 1 0 1.41-1.41L9.83 16H23c.55 0 1-.45 1-1s-.45-1-1-1z M17.81 9.71a.996.996 0 0 0 0 1.41L21.69 15l-3.88 3.88a.996.996 0 1 0 1.41 1.41l4.59-4.59a.996.996 0 0 0 0-1.41L19.22 9.7c-.38-.38-1.02-.38-1.41.01z"/></g><g transform="translate(0 180)"><circle fill="url(#white)" stroke="#000" stroke-opacity="0.7" cx="15" cy="15" r="11.5"/><path stroke="#fff" stroke-width="0.5" d="M18.21 6.54c.25-.11.58-.18.92-.16.15.96-.32 1.71-.93 2.02-.35.18-.79.28-1.25.19a1.8 1.8 0 0 1-.98-.52c-.27-.27-.41-.57-.51-1a.92.92 0 0 0-.77-.74.9.9 0 0 0-.98.49c-.19.37-.05.8.03 1.24.28-.02.61-.08.92-.09.18.98.34 1.98.52 2.96 2.03.12 3.44.84 4.55 1.9 1.08 1.04 1.91 2.44 2.09 4.35.19 2.12-.59 3.76-1.5 4.89-.94 1.17-2.25 2.09-4.02 2.42-.98.18-2.01.15-2.89-.06a6.8 6.8 0 0 1-2.24-.98 6.72 6.72 0 0 1-2.73-3.71 7.05 7.05 0 0 1-.23-2.86c.13-.93.42-1.74.8-2.42.77-1.38 1.91-2.39 3.41-3.03-.16-1-.36-1.97-.51-2.98.3-.08.6-.16.92-.22-.06-.36-.15-.68-.15-1.04a1.88 1.88 0 0 1 .27-.92c.29-.48.83-.86 1.5-.9a1.85 1.85 0 0 1 1.32.44c.33.28.53.67.63 1.13.11.46.5.77.98.74.53-.04.97-.49.85-1.15z"/></g><g transform="translate(0 210)"><circle fill="#555" cx="15" cy="15" r="12"/></g><g transform="translate(0 240)"><path fill="#fff" d="M21.3 8.71a.996.996 0 0 0-1.41 0L15 13.59 10.11 8.7a.996.996 0 1 0-1.41 1.41L13.59 15 8.7 19.89a.996.996 0 1 0 1.41 1.41L15 16.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L16.41 15l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></g><g transform="translate(0 270)"><path fill="#fff" d="M9.31 9.71a.996.996 0 0 0 0 1.41L13.19 15l-3.88 3.88a.996.996 0 1 0 1.41 1.41l4.59-4.59a.996.996 0 0 0 0-1.41L10.72 9.7c-.38-.38-1.02-.38-1.41.01z M14.31 9.71a.996.996 0 0 0 0 1.41L18.19 15l-3.88 3.88a.996.996 0 1 0 1.41 1.41l4.59-4.59a.996.996 0 0 0 0-1.41L15.72 9.7c-.38-.38-1.02-.38-1.41.01z"/></g><g transform="translate(0 300)"><path fill="#fff" d="M15 8v8.55c-.94-.54-2.1-.75-3.33-.32-1.34.48-2.37 1.67-2.61 3.07a4.007 4.007 0 0 0 4.59 4.65c1.96-.31 3.35-2.11 3.35-4.1V10h2c1.1 0 2-.9 2-2s-.9-2-2-2h-2c-1.1 0-2 .9-2 2z"/></g><g transform="translate(0 330)"><path fill="#fff" d="M17 12.61V10h2c1.1 0 2-.9 2-2s-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3.61l2 2zM8.12 6.56a.996.996 0 1 0-1.41 1.41l8.29 8.3v.28c-.94-.54-2.1-.75-3.33-.32-1.34.48-2.37 1.67-2.61 3.07a4.007 4.007 0 0 0 4.59 4.65c1.96-.31 3.35-2.11 3.35-4.1v-1.58l5.02 5.02a.996.996 0 1 0 1.41-1.41L8.12 6.56z"/></g></g></svg>';
v=D("stars")||0;I=!!D("muted");la(Q)})();</script></body></html>